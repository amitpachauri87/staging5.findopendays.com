window.DL=window.DL||{};(function(_,$,dllocalized,DL){"use strict";var Actions={callBackList:{edit:function(){},delete:function(evt){evt.preventDefault();evt.stopImmediatePropagation();var target=evt.target;if("I"===evt.target.tagName&&"A"===evt.target.parentNode.tagName){target=evt.target.parentNode}var data=DL.Utils.Functions.deparam(decodeURI(target.getAttribute("href")));$.ajax(dllocalized.site_url+"/index.php",{method:"POST",data:data,beforeSend:function(xhr){DL.Utils.UI.toggleLoader(target)},complete:function(){DL.Utils.UI.toggleLoader(target)},success:function(data,textStatus,jqXHR){var row=$(target).parents(".dlmanager-posts-post")[0];$(row).fadeOut(function(){this.remove()})},error:function(jqXHR,textStatus,errorThrown){console.error("Manager Posts - Action Error: "+errorThrown)}})}},addListener:function(obj,event,callback,options,extra){if(!obj||_.isArray(obj)){throw"Invalid Object on addListener."}if(!_.isFunction(callback)){throw"Invalid callback on addListener."}obj.addEventListener(event,function(e){callback.call(this,e,extra)}.bind(this),options);return this},addListeners:function(){_.forEach(this.callBackList,function(callback,name){var actionEl=document.querySelectorAll(".dlpost-action--"+name);if(actionEl){_.forEach(actionEl,function(item){this.addListener(item,"click",callback.bind(this))}.bind(this))}}.bind(this));return this},construct:function(){_.bindAll(this,"addListeners","init","addListener")},init:function(){this.addListeners();return this}};window.addEventListener("load",function(){Actions.construct();Actions.init()})})(_,window.jQuery,window.dllocalized,window.DL);
(function(_,Backbone,dllocalized){"use strict";document.addEventListener("DOMContentLoaded",function(){var ListingsLocation={constructor:function(){this.location=document.querySelector(".dllisting-location");if(!this.location){throw"No location found. Aborting"}this.button=this.location.parentElement.querySelector(".dllisting-ticket-wrapper");this.socials=this.location.parentElement.querySelector(".dlsocials-links");this.actions=this.location.parentElement.querySelector(".dlactions");this.sidebar=document.querySelector("#dlsidebar-listings");this.booking=document.querySelector("#dlbookings-booking");this.articleContent=document.querySelector(".dlarticle__content")},initialize:function(){_.bindAll(this,"render");window.addEventListener("resize",this.render);this.render()},render:function(){try{var articleHeader=document.querySelector(".dlarticle__header");if(this.button){var sidebarMarginTop=parseInt(articleHeader.offsetHeight/2-this.button.offsetHeight/2);this.sidebar.style.top=0;this.sidebar.style.marginTop=sidebarMarginTop+"px"}var viewPortWidth=Math.round(window.innerWidth),parentNode,beforeEl;if(!viewPortWidth){return}if(1024<=viewPortWidth){parentNode=this.sidebar;beforeEl=parentNode.firstElementChild;if(parentNode===this.location.parentElement){return}}else if(1024>viewPortWidth){beforeEl=this.articleContent;parentNode=beforeEl.parentNode}else{return}if(parentNode){var elementsList=[this.button,this.booking,this.location,this.actions,this.socials];_.forEach(elementsList,function(el){if(!el){return}if(!beforeEl){parentNode.appendChild(el);return}parentNode.insertBefore(el,beforeEl);if(parentNode.classList.contains("dlarticle")&&!this.sidebar.firstElementChild){this.sidebar.innerHTML=""}}.bind(this))}}catch(e){"dev"===dllocalized.env&&console.warn(e)}}};if(document.body.classList.contains("dl-is-singular-listings")){try{ListingsLocation.constructor();ListingsLocation.initialize()}catch(e){if("dev"===dllocalized.env){console.warn(e)}}}})})(_,Backbone,dllocalized);
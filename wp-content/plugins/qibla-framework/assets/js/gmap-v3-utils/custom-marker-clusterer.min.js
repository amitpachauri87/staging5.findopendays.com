"use strict";function CustomMarkerClusterer(map,opt_markers,opt_options,template){var i=0,markers=[];_.forEach(opt_markers,function(marker){if(0!==marker.latLng.lat()&&0!==marker.latLng.lng()){markers[i]=marker;i++}});if(markers.length>=0){opt_markers=markers}MarkerClusterer.call(this,map,opt_markers,opt_options);this.template=template}CustomMarkerClusterer.prototype=MarkerClusterer.prototype;CustomMarkerClusterer.constructor=CustomMarkerClusterer;CustomMarkerClusterer.prototype.addToClosestCluster_=function(marker){var i,d,cluster,center;var distance=1e4;var clusterToAddTo=null;var pos=marker.getPosition();for(i=0;i<this.clusters_.length;i++){cluster=this.clusters_[i];center=cluster.getCenter();if(center){d=this.distanceBetweenPoints_(center,marker.getPosition());if(d<distance){distance=d;clusterToAddTo=cluster}}}if(clusterToAddTo&&clusterToAddTo.isMarkerInClusterBounds(marker)){if(0===distance){marker.setPosition(new google.maps.LatLng(pos.lat()+3e-4,pos.lng()+6e-4))}clusterToAddTo.addMarker(marker)}else{cluster=new CustomCluster(this,this.template);cluster.addMarker(marker);this.clusters_.push(cluster)}};function CustomCluster(mc,template){Cluster.call(this,mc);this.clusterIcon_=new CustomClusterIcon(this,mc.getStyles(),template)}CustomCluster.prototype=Cluster.prototype;CustomCluster.constructor=CustomCluster;function CustomClusterIcon(cluster,styles,template){ClusterIcon.call(this,cluster,styles);this.template=template}CustomClusterIcon.prototype=ClusterIcon.prototype;CustomClusterIcon.constructor=CustomClusterIcon;CustomClusterIcon.prototype.show=function(){if(this.div_){this.div_.style.position="absolute";this.div_.style.webkitTransform="translateZ(0px) translateY(-30px)";this.div_.style.cursor="pointer";this.div_.style.width="50px";this.div_.style.height="60px";this.div_.insertAdjacentHTML("beforeend",this.template({count:this.sums_.text}));this.div_.style.display=""}this.visible_=true};
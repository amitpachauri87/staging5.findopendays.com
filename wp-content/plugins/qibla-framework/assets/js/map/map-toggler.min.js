window.DlMap=window.DlMap||{};(function($,_,dllocalized,google,DlMap){"use strict";window.addEventListener("load",function(){if(_.isEmpty(DlMap)||typeof DlMap.map==="undefined"){return false}var MapToggle={setToggler:function(selector){this.instance=this.togglers.querySelector(selector);this.instance.addEventListener("click",this.toggleMap.bind(this))},updateToggler:function(){var tmp="",script="#dltoggler_map_tmpl",selector="#dltoggler_map",selectorToRm="#dltoggler_map_open";if(this.isOpen){tmp=selector;selector=selectorToRm;selectorToRm=tmp;script="#dltoggler_map_open_tmpl"}var toggler=document.querySelector(script);this.togglers.querySelector(selectorToRm).remove();this.togglers.insertAdjacentHTML("beforeend",toggler.innerHTML);this.setToggler(selector)},toggleMap:function(){var mapEl=DlMap.map.getDiv();$(mapEl).slideToggle(450,function(){this.isOpen=!this.isOpen;this.updateMapStatus();mapEl.style.height=window.innerHeight-mapEl.getBoundingClientRect().top+"px";DlMap.map.dispatchEvent("resize");this.updateToggler();if(mapEl.classList.contains("dlgoogle-map--open")){mapEl.classList.remove("dlgoogle-map--open")}else{mapEl.classList.add("dlgoogle-map--open")}if(this.isOpen){document.body.classList.add("dlgoogle-map-full-screen")}else{document.body.classList.remove("dlgoogle-map-full-screen")}}.bind(this));return this},updateMapStatus:function(){var mapEl=DlMap.map.getDiv();if(this.isOpen){mapEl.style.display="block"}else{mapEl.style.display="none"}return this},showBtn:function(){this.instance.style.display="inline-block";return this},hideBtn:function(){this.instance.style.display="none";return this},useScMap:function(){var map=document.getElementById("dlgoogle-map");if(map){return Boolean(DL.Utils.Functions.classList(map).contains("dlsc-map"))}return false},construct:function(){if(!this.instance){if(this.useScMap()){return}var template=document.querySelector("#dltoggler_map_tmpl");if(!template){throw"Invalid toggler template or missed element."}this.togglers=document.querySelector("#dltogglers");if(!this.togglers){return}this.togglers.insertAdjacentHTML("beforeend",template.innerHTML);this.setToggler("#dltoggler_map");if(1024>window.innerWidth){DlMap.map.getDiv().style.display="none"}this.isOpen=false;this.showBtn()}document.body.style.paddingBottom=this.togglers.offsetHeight+"px";return this},destroy:function(){this.hideBtn();DlMap.map.getDiv().style.display="block";DlMap.map.getDiv().style.height="100vh";document.body.style.paddingBottom="0";document.body.classList.remove("dlgoogle-map-full-screen");return this}};try{if(!MapToggle.construct()){return}}catch(e){"dev"===dllocalized.env&&console.warn(e);return false}if(1024<=window.innerWidth){MapToggle.hideBtn();MapToggle.destroy()}window.addEventListener("resize",function(e){clearTimeout(mapResize);var mapResize=setTimeout(function(){if(1024>window.innerWidth){MapToggle.construct();MapToggle.showBtn();MapToggle.updateMapStatus()}else{MapToggle.destroy()}},100)})})})(window.jQuery,_,window.dllocalized,window.google,window.DlMap);
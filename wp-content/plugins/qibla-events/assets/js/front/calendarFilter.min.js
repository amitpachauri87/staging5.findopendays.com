(function(_,$,evlocalized){"use strict";function createCalendar(elem){if(!elem){return}var cal=document.createElement("div");cal.setAttribute("id","appmap_ev_calendar_filter");elem.parentNode.insertAdjacentElement("beforebegin",cal);var searchBox=document.getElementById("select2-qibla_event_dates_filter-results").parentElement.parentElement;searchBox.querySelector(".select2-search--dropdown").remove();var calendar=document.getElementById("appmap_ev_calendar_filter");if(!calendar){return}$(calendar).datepicker({dateFormat:"yy-mm-dd",defaultDate:evlocalized.first_date_events,altField:"#appmap_ev_calendar_filter",beforeShowDay:function(date){var string=$.datepicker.formatDate("yy-mm-dd",date);return[evlocalized.dates_saved_events.indexOf(string)!==-1]},onSelect:function(){$(this).change()}}).change(function(){var lists=document.querySelectorAll('#select2-qibla_event_dates_filter-results li[aria-label="days"] ul.select2-results__options li');var i;for(i=0;i<lists.length;i++){checkValue(this.value,lists[i])}})}function checkValue(value,item){if(item.getAttribute("id").includes(value)){$(item).trigger({type:"mouseup"})}}function createTrigger(elem){if(!elem){return}var wrapper=document.getElementById("trigger_calendar");if(wrapper){wrapper.remove()}var text=document.createTextNode(evlocalized.label_calendar);var trigger=document.createElement("div");trigger.setAttribute("id","trigger_calendar");trigger.setAttribute("class","ev-trigger-calendar");trigger.appendChild(text);if(elem){elem.insertAdjacentElement("beforebegin",trigger)}}function openCalendar(trigger){trigger.on("click",function(){var input=document.getElementById("appmap_ev_calendar_filter");input.style.opacity=1;input.style.height="100%";input.style.width="100%";input.classList.remove("screen-reader-text")})}window.addEventListener("load",function(e){var dates=document.getElementById("qibla_event_dates_filter");if(!dates){return}$(dates).on("select2:open",function(){var calendar=document.getElementById("appmap_ev_calendar_filter");createTrigger(document.getElementById("select2-qibla_event_dates_filter-results"));if(!calendar){createCalendar(document.getElementById("trigger_calendar"))}openCalendar($(document.getElementById("trigger_calendar")));$(document.getElementById("trigger_calendar")).click();var lists=document.querySelectorAll("#select2-qibla_event_dates_filter-results li");_.forEach(lists,function(item){item.style.display="none"});document.getElementById("trigger_calendar").style.display="none"})})})(window._,window.jQuery,window.evlocalized);
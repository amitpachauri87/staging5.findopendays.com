(function(_,$,ClassList){"use strict";window.addEventListener("load",function(){var mainNav=document.querySelector(".dlnav-main");if(!mainNav){return}var slideOut=Object.create(Object.prototype,{instance:{value:null,writable:true},hambToggler:{value:null,writable:true},overlay:{value:null,writable:true},insertHamburgerMenu:{value:function(){if(this.hambToggler){this.hambToggler.style.display="block";return}this.hambToggler=document.createElement("button");this.hambToggler.setAttribute("id","hamburger");this.hambToggler.setAttribute("aria-label","Menu");this.hambToggler.setAttribute("aria-controls","dlmain-nav");new ClassList(this.hambToggler).add("hamburger","hamburger--slider");this.hambToggler.innerHTML='<span class="hamburger-box"><span class="hamburger-inner"></span></span>';var brandEl=document.querySelector(".dlbrand");brandEl.parentElement.insertBefore(this.hambToggler,brandEl)}},insertOverlay:{value:function(){if(null===this.overlay){var overlay=document.createElement("div");overlay.classList.add("dloverlay");overlay.style.position="fixed";overlay.style.top=0;overlay.style.left=0;overlay.style.right=0;overlay.style.bottom=0;overlay.style.height="100vh";overlay.style.backgroundColor="rgba(0,0,0,.7)";overlay.style.zIndex=9998;overlay.style.display="none";document.querySelector(".dlheader").appendChild(overlay);this.overlay=overlay}}},activateHamburger:{value:function(){this.hambToggler.classList.add("is-active")}},deactivateHamburger:{value:function(){this.hambToggler.classList.remove("is-active")}},showOverlay:{value:function(){this.overlay.style.display="block"}},hideOverlay:{value:function(){this.overlay.style.display="none"}},toggle:{value:function(){if(null!==this.instance){if(!this.instance.classList.contains("dlnav-main--open")){this.open()}else{this.close()}}}},open:{value:function(){new ClassList(this.instance).add("dlnav-main--open","animated");this.instance.classList.remove("slideOutLeft");this.instance.classList.add("slideInLeft");this.showOverlay();document.body.style.overflowY="hidden";document.body.classList.add("dlu-nav-mobile-open");this.activateHamburger()}},close:{value:function(){this.instance.classList.remove("dlnav-main--open");this.instance.classList.remove("slideInLeft");this.instance.classList.add("slideOutLeft");this.hideOverlay();document.body.style.position="initial";document.body.style.overflowY="scroll";document.body.classList.remove("dlu-nav-mobile-open");this.deactivateHamburger()}},destroy:{value:function(){if(null!==this.instance){this.close();this.hambToggler.remove();this.overlay.remove();this.instance=null;this.overlay=null;this.hambToggler=null}}},init:{value:function(panel,menu){if(null===this.instance){this.instance=document.querySelector(".dlnav-main--mobile");if(!this.instance){throw"Mobile Nav: No mobile nav element found. Aborting"}this.insertHamburgerMenu();this.insertOverlay();this.hambToggler.addEventListener("click",this.toggle.bind(this));this.overlay.addEventListener("click",this.close.bind(this))}}}});var mobileNav=Object.create(Object.prototype,{isMobile:{value:document.body.classList.contains("is-mobile")},wrapper:{value:document.getElementById("dlpage-wrapper")},header:{value:document.getElementById("dlheader")},nav:{value:document.getElementById("dlnav-main")},navMobile:{value:null,writable:true},setElements:{value:function(){this.header.classList.add("dlheader--mobile");this.nav.style.display="none"}},resetElements:{value:function(){this.header.classList.remove("dlheader--mobile");this.nav.removeAttribute("style")}},filterClick:{value:function(e){if("A"===e.target.tagName){if(e.target.parentElement.classList.contains("menu-item-has-children")){e.preventDefault();e.stopPropagation();var submenu=e.target.parentElement.querySelector(".sub-menu");var parentElement=e.target.parentElement.parentElement.getAttribute("id");if("dlnav-main__list-items"===parentElement){$(e.target.parentElement.parentElement.querySelectorAll(".sub-menu")).stop(true,true).slideUp()}$(submenu).stop().slideToggle();return false}}}},construct:{value:function(){if(!this.wrapper||!this.header||!this.nav){throw"Header not found in nav-mobile.js during construct"}if(!this.navMobile){this.navMobile=document.createElement("div");_.forEach(this.nav.classList,function(e){this.navMobile.classList.add(e)}.bind(this));this.navMobile.classList.add("dlnav-main--mobile");this.navMobile.innerHTML=this.nav.innerHTML;document.body.insertBefore(this.navMobile,this.wrapper);_.forEach(this.navMobile.querySelectorAll(".menu-item"),function(el){var submenu=el.querySelector(".sub-menu");if(submenu){submenu.style.display="none"}});_.forEach(this.navMobile.querySelectorAll("a"),function(el){el.addEventListener("click",this.filterClick.bind(this))}.bind(this))}this.setElements()}},destroy:{value:function(){this.resetElements()}}});try{if(1024>=window.innerWidth||mobileNav.isMobile){mobileNav.construct();slideOut.init(mobileNav.wrapper,mobileNav.navMobile)}window.addEventListener("resize",function(){clearTimeout(navMobileTimeout);var navMobileTimeout=setTimeout(function(){if(1024>=window.innerWidth||mobileNav.isMobile){mobileNav.construct();slideOut.init(mobileNav.wrapper,mobileNav.navMobile)}else{mobileNav.destroy();slideOut.destroy()}},300)})}catch(e){console.warn(e)}})})(_,window.jQuery,window.ClassList);